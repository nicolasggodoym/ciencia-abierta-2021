"$291.975 a $380.500",
"$380.501 a $500.000",
"$500.001 a $779.787",
"$779.788 o más")),
horas = factor(.$horas, levels = c("Igual o menor a 30 horas semanales",
"Entre 31 y 45 horas semanales",
"Mayor a 45 horas semanales"))) %>%
mutate_at(vars("contrato", "contrato_duracion", "contrato_sub", "cotiza_prev", "cotiza_salud", "cotiza_seguro", "lugar_trab", "cond_vacaciones", "cond_enfermedad", "cond_maternidad", "cond_guarderia"), ~(car::recode(., recodes = "c(77, 88, 99) = NA"))) %>%
mutate_at(vars(c("horas", "educacion")), ~(car::recode(., recodes = "c(888, 999) = NA"))) %>%
na_omit()
data_proc <- data_proc %>%
mutate_at(vars(-exp), ~(as.numeric(.))) %>%
mutate(ingresos = case_when(ingresos <= 291974 ~ "$0 a $291.974",
ingresos > 291974 & ingresos <= 380500 ~ "$291.975 a $380.500",
ingresos > 380500 & ingresos <= 500000 ~ "$380.501 a $500.000",
ingresos > 500000 & ingresos <= 779787 ~ "$500.001 a $779.787",
ingresos > 779787 ~ "$779.788 o más",
TRUE ~ NA_character_),
horas = case_when(horas <= 30 ~ "Igual o menor a 30 horas semanales",
horas > 30 & horas <= 45 ~ "Entre 31 y 45 horas semanales",
horas > 45 ~ "Mayor a 45 horas semanales",
TRUE ~ NA_character_),
contrato = car::recode(.$contrato, recodes = c("1 = 'Si'; 2 = 'No'"),
as.factor = T, levels = c('Si', 'No')),
contrato_duracion = car::recode(.$contrato_duracion, recodes = c("1 = 'Definido'; 2 = 'Indefinido'"),
as.factor = T, levels = c('Definido', 'Indefinido')),
contrato_sub = car::recode(.$contrato_sub, recodes = c("1 = 'Directamente con la empresa en donde trabaja';
2 = 'Con un contratista o subcontratista de bienes y servicios';
3 = 'Con una empresa de servicios temporales o suministradora de trabajadores';
4 = 'Con un enganchador (contratista agrícola)'"),
as.factor = T, levels = c('Directamente con la empresa en donde trabaja',
'Con un contratista o subcontratista de bienes y servicios',
'Con una empresa de servicios temporales o suministradora de trabajadores',
'Con un enganchador (contratista agrícola)')),
lugar_trab = car::recode(.$lugar_trab, recodes = c("1 = 'En instalaciones u oficina del cliente o empleador';
2 = 'En la casa del empleador o cliente';
3 = 'En instalaciones u oficinas propias o arrendadas';
4 = 'En la oficina, local, taller o fábrica, anexo a su hogar (en el mismo predio)';
5 = 'En su propio hogar';
6 = 'En la calle o vía pública';
7 = 'En obras de construcción, mineras o similares';
8 = 'En un predio agrícola o espacio marítimo o aéreo';
9 = 'En otros lugares'"),
as.factor = T, levels = c('En instalaciones u oficina del cliente o empleador',
'En la casa del empleador o cliente',
'En instalaciones u oficinas propias o arrendadas',
'En la oficina, local, taller o fábrica, anexo a su hogar (en el mismo predio)',
'En su propio hogar',
'En la calle o vía pública',
'En obras de construcción, mineras o similares',
'En un predio agrícola o espacio marítimo o aéreo',
'En otros lugares')),
sexo = car::recode(.$sexo, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,
levels = c('Hombre', 'Mujer')),
educacion = car::recode(.$educacion, recodes = c("1 = 'Nunca estudio';
2 = 'Educacion preescolar';
3 = 'Educacion primaria (nivel 1)';
4 = 'Educacion primaria (nivel 2)';
5 = 'Educacion secundaria';
6 = 'Educacion tecnica (superior no universitaria)';
7 = 'Educacion universitaria';
8 = 'Postitulos y maestria';
9 = 'Doctorado'"),
as.factor = T,
levels = c('Nunca estudio',
'Educacion preescolar',
'Educacion primaria (nivel 1)',
'Educacion primaria (nivel 2)',
'Educacion secundaria',
'Educacion tecnica (superior no universitaria)',
'Educacion universitaria',
'Postitulos y maestria',
'Doctorado'))) %>%
mutate_at(vars("cond_vacaciones", "cond_enfermedad", "cond_maternidad", "cond_guarderia"), ~(car::recode(., recodes = c("1 = 'Si'; 2 = 'No'"), as.factor = T))) %>%
mutate(ingresos = factor(.$ingresos, levels = c("$0 a $291.974",
"$291.975 a $380.500",
"$380.501 a $500.000",
"$500.001 a $779.787",
"$779.788 o más")),
horas = factor(.$horas, levels = c("Igual o menor a 30 horas semanales",
"Entre 31 y 45 horas semanales",
"Mayor a 45 horas semanales"))) %>%
mutate_at(vars("contrato", "contrato_duracion", "contrato_sub", "cotiza_prev", "cotiza_salud", "cotiza_seguro", "lugar_trab", "cond_vacaciones", "cond_enfermedad", "cond_maternidad", "cond_guarderia"), ~(car::recode(., recodes = "c(77, 88, 99) = NA"))) %>%
mutate_at(vars(c("horas", "educacion")), ~(car::recode(., recodes = "c(888, 999) = NA"))) %>%
na.omit()
data_proc <- data %>%
filter(b13_rev4cl_caenes != 1 |
b13_rev4cl_caenes != 2 |
b13_rev4cl_caenes != 3 |
b13_rev4cl_caenes != 6) %>%
select(exp = fact_cal_esi,
id = idrph,
contrato = b8,
contrato_duracion = b9,
contrato_sub = b12,
cotiza_prev = b7a_1,
cotiza_salud = b7a_2,
cotiza_seguro = b7a_3,
ingresos = ing_t_p,
lugar_trab = b16,
cond_vacaciones = b7b_1,
cond_enfermedad = b7b_2,
cond_maternidad = b7b_3,
cond_guarderia = b7b_4,
horas = c2_1_3,
sexo,
edad,
educacion = cine)
data_proc <- data_proc %>%
mutate_at(vars(-exp), ~(as.numeric(.))) %>%
mutate(ingresos = case_when(ingresos <= 291974 ~ "$0 a $291.974",
ingresos > 291974 & ingresos <= 380500 ~ "$291.975 a $380.500",
ingresos > 380500 & ingresos <= 500000 ~ "$380.501 a $500.000",
ingresos > 500000 & ingresos <= 779787 ~ "$500.001 a $779.787",
ingresos > 779787 ~ "$779.788 o más",
TRUE ~ NA_character_),
horas = case_when(horas <= 30 ~ "Igual o menor a 30 horas semanales",
horas > 30 & horas <= 45 ~ "Entre 31 y 45 horas semanales",
horas > 45 ~ "Mayor a 45 horas semanales",
TRUE ~ NA_character_),
contrato = car::recode(.$contrato, recodes = c("1 = 'Si'; 2 = 'No'"),
as.factor = T, levels = c('Si', 'No')),
contrato_duracion = car::recode(.$contrato_duracion, recodes = c("1 = 'Definido'; 2 = 'Indefinido'"),
as.factor = T, levels = c('Definido', 'Indefinido')),
contrato_sub = car::recode(.$contrato_sub, recodes = c("1 = 'Directamente con la empresa en donde trabaja';
2 = 'Con un contratista o subcontratista de bienes y servicios';
3 = 'Con una empresa de servicios temporales o suministradora de trabajadores';
4 = 'Con un enganchador (contratista agrícola)'"),
as.factor = T, levels = c('Directamente con la empresa en donde trabaja',
'Con un contratista o subcontratista de bienes y servicios',
'Con una empresa de servicios temporales o suministradora de trabajadores',
'Con un enganchador (contratista agrícola)')),
lugar_trab = car::recode(.$lugar_trab, recodes = c("1 = 'En instalaciones u oficina del cliente o empleador';
2 = 'En la casa del empleador o cliente';
3 = 'En instalaciones u oficinas propias o arrendadas';
4 = 'En la oficina, local, taller o fábrica, anexo a su hogar (en el mismo predio)';
5 = 'En su propio hogar';
6 = 'En la calle o vía pública';
7 = 'En obras de construcción, mineras o similares';
8 = 'En un predio agrícola o espacio marítimo o aéreo';
9 = 'En otros lugares'"),
as.factor = T, levels = c('En instalaciones u oficina del cliente o empleador',
'En la casa del empleador o cliente',
'En instalaciones u oficinas propias o arrendadas',
'En la oficina, local, taller o fábrica, anexo a su hogar (en el mismo predio)',
'En su propio hogar',
'En la calle o vía pública',
'En obras de construcción, mineras o similares',
'En un predio agrícola o espacio marítimo o aéreo',
'En otros lugares')),
sexo = car::recode(.$sexo, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,
levels = c('Hombre', 'Mujer')),
educacion = car::recode(.$educacion, recodes = c("1 = 'Nunca estudio';
2 = 'Educacion preescolar';
3 = 'Educacion primaria (nivel 1)';
4 = 'Educacion primaria (nivel 2)';
5 = 'Educacion secundaria';
6 = 'Educacion tecnica (superior no universitaria)';
7 = 'Educacion universitaria';
8 = 'Postitulos y maestria';
9 = 'Doctorado'"),
as.factor = T,
levels = c('Nunca estudio',
'Educacion preescolar',
'Educacion primaria (nivel 1)',
'Educacion primaria (nivel 2)',
'Educacion secundaria',
'Educacion tecnica (superior no universitaria)',
'Educacion universitaria',
'Postitulos y maestria',
'Doctorado'))) %>%
mutate_at(vars("cond_vacaciones", "cond_enfermedad", "cond_maternidad", "cond_guarderia"), ~(car::recode(., recodes = c("1 = 'Si'; 2 = 'No'"), as.factor = T))) %>%
mutate(ingresos = factor(.$ingresos, levels = c("$0 a $291.974",
"$291.975 a $380.500",
"$380.501 a $500.000",
"$500.001 a $779.787",
"$779.788 o más")),
horas = factor(.$horas, levels = c("Igual o menor a 30 horas semanales",
"Entre 31 y 45 horas semanales",
"Mayor a 45 horas semanales"))) %>%
mutate_at(vars("contrato", "contrato_duracion", "contrato_sub", "cotiza_prev", "cotiza_salud", "cotiza_seguro", "lugar_trab", "cond_vacaciones", "cond_enfermedad", "cond_maternidad", "cond_guarderia"), ~(car::recode(., recodes = "c(77, 88, 99) = NA"))) %>%
mutate_at(vars(c("horas", "educacion")), ~(car::recode(., recodes = "c(888, 999) = NA")))
str(data_proc)
data_proc <- data_proc %>%
mutate_at(vars(-exp), ~(as.numeric(.))) %>%
mutate(ingresos = case_when(ingresos <= 291974 ~ "$0 a $291.974",
ingresos > 291974 & ingresos <= 380500 ~ "$291.975 a $380.500",
ingresos > 380500 & ingresos <= 500000 ~ "$380.501 a $500.000",
ingresos > 500000 & ingresos <= 779787 ~ "$500.001 a $779.787",
ingresos > 779787 ~ "$779.788 o más",
TRUE ~ NA_character_),
horas = case_when(horas <= 30 ~ "Igual o menor a 30 horas semanales",
horas > 30 & horas <= 45 ~ "Entre 31 y 45 horas semanales",
horas > 45 ~ "Mayor a 45 horas semanales",
TRUE ~ NA_character_),
contrato = car::recode(.$contrato, recodes = c("1 = 'Si'; 2 = 'No'"),
as.factor = T, levels = c('Si', 'No')),
contrato_duracion = car::recode(.$contrato_duracion, recodes = c("1 = 'Definido'; 2 = 'Indefinido'"),
as.factor = T, levels = c('Definido', 'Indefinido')),
contrato_sub = car::recode(.$contrato_sub, recodes = c("1 = 'Directamente con la empresa en donde trabaja';
2 = 'Con un contratista o subcontratista de bienes y servicios';
3 = 'Con una empresa de servicios temporales o suministradora de trabajadores';
4 = 'Con un enganchador (contratista agrícola)'"),
as.factor = T, levels = c('Directamente con la empresa en donde trabaja',
'Con un contratista o subcontratista de bienes y servicios',
'Con una empresa de servicios temporales o suministradora de trabajadores',
'Con un enganchador (contratista agrícola)')),
lugar_trab = car::recode(.$lugar_trab, recodes = c("1 = 'En instalaciones u oficina del cliente o empleador';
2 = 'En la casa del empleador o cliente';
3 = 'En instalaciones u oficinas propias o arrendadas';
4 = 'En la oficina, local, taller o fábrica, anexo a su hogar (en el mismo predio)';
5 = 'En su propio hogar';
6 = 'En la calle o vía pública';
7 = 'En obras de construcción, mineras o similares';
8 = 'En un predio agrícola o espacio marítimo o aéreo';
9 = 'En otros lugares'"),
as.factor = T, levels = c('En instalaciones u oficina del cliente o empleador',
'En la casa del empleador o cliente',
'En instalaciones u oficinas propias o arrendadas',
'En la oficina, local, taller o fábrica, anexo a su hogar (en el mismo predio)',
'En su propio hogar',
'En la calle o vía pública',
'En obras de construcción, mineras o similares',
'En un predio agrícola o espacio marítimo o aéreo',
'En otros lugares')),
sexo = car::recode(.$sexo, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,
levels = c('Hombre', 'Mujer')),
educacion = car::recode(.$educacion, recodes = c("1 = 'Nunca estudio';
2 = 'Educacion preescolar';
3 = 'Educacion primaria (nivel 1)';
4 = 'Educacion primaria (nivel 2)';
5 = 'Educacion secundaria';
6 = 'Educacion tecnica (superior no universitaria)';
7 = 'Educacion universitaria';
8 = 'Postitulos y maestria';
9 = 'Doctorado'"),
as.factor = T,
levels = c('Nunca estudio',
'Educacion preescolar',
'Educacion primaria (nivel 1)',
'Educacion primaria (nivel 2)',
'Educacion secundaria',
'Educacion tecnica (superior no universitaria)',
'Educacion universitaria',
'Postitulos y maestria',
'Doctorado'))) %>%
mutate_at(vars("cond_vacaciones", "cond_enfermedad", "cond_maternidad", "cond_guarderia", "cotiza_prev", "cotiza_salud", "cotiza_seguro"), ~(car::recode(., recodes = c("1 = 'Si'; 2 = 'No'"), as.factor = T))) %>%
mutate(ingresos = factor(.$ingresos, levels = c("$0 a $291.974",
"$291.975 a $380.500",
"$380.501 a $500.000",
"$500.001 a $779.787",
"$779.788 o más")),
horas = factor(.$horas, levels = c("Igual o menor a 30 horas semanales",
"Entre 31 y 45 horas semanales",
"Mayor a 45 horas semanales"))) %>%
mutate_at(vars("contrato", "contrato_duracion", "contrato_sub", "cotiza_prev", "cotiza_salud", "cotiza_seguro", "lugar_trab", "cond_vacaciones", "cond_enfermedad", "cond_maternidad", "cond_guarderia"), ~(car::recode(., recodes = "c(77, 88, 99) = NA"))) %>%
mutate_at(vars(c("horas", "educacion")), ~(car::recode(., recodes = "c(888, 999) = NA")))
str(data_proc)
data_proc <- data_proc %>%
mutate_at(vars(-c(exp, id, edad)), ~(as.numeric(.))) %>%
mutate(ingresos = case_when(ingresos <= 291974 ~ "$0 a $291.974",
ingresos > 291974 & ingresos <= 380500 ~ "$291.975 a $380.500",
ingresos > 380500 & ingresos <= 500000 ~ "$380.501 a $500.000",
ingresos > 500000 & ingresos <= 779787 ~ "$500.001 a $779.787",
ingresos > 779787 ~ "$779.788 o más",
TRUE ~ NA_character_),
horas = case_when(horas <= 30 ~ "Igual o menor a 30 horas semanales",
horas > 30 & horas <= 45 ~ "Entre 31 y 45 horas semanales",
horas > 45 ~ "Mayor a 45 horas semanales",
TRUE ~ NA_character_),
contrato = car::recode(.$contrato, recodes = c("1 = 'Si'; 2 = 'No'"),
as.factor = T, levels = c('Si', 'No')),
contrato_duracion = car::recode(.$contrato_duracion, recodes = c("1 = 'Definido'; 2 = 'Indefinido'"),
as.factor = T, levels = c('Definido', 'Indefinido')),
contrato_sub = car::recode(.$contrato_sub, recodes = c("1 = 'Directamente con la empresa en donde trabaja';
2 = 'Con un contratista o subcontratista de bienes y servicios';
3 = 'Con una empresa de servicios temporales o suministradora de trabajadores';
4 = 'Con un enganchador (contratista agrícola)'"),
as.factor = T, levels = c('Directamente con la empresa en donde trabaja',
'Con un contratista o subcontratista de bienes y servicios',
'Con una empresa de servicios temporales o suministradora de trabajadores',
'Con un enganchador (contratista agrícola)')),
lugar_trab = car::recode(.$lugar_trab, recodes = c("1 = 'En instalaciones u oficina del cliente o empleador';
2 = 'En la casa del empleador o cliente';
3 = 'En instalaciones u oficinas propias o arrendadas';
4 = 'En la oficina, local, taller o fábrica, anexo a su hogar (en el mismo predio)';
5 = 'En su propio hogar';
6 = 'En la calle o vía pública';
7 = 'En obras de construcción, mineras o similares';
8 = 'En un predio agrícola o espacio marítimo o aéreo';
9 = 'En otros lugares'"),
as.factor = T, levels = c('En instalaciones u oficina del cliente o empleador',
'En la casa del empleador o cliente',
'En instalaciones u oficinas propias o arrendadas',
'En la oficina, local, taller o fábrica, anexo a su hogar (en el mismo predio)',
'En su propio hogar',
'En la calle o vía pública',
'En obras de construcción, mineras o similares',
'En un predio agrícola o espacio marítimo o aéreo',
'En otros lugares')),
sexo = car::recode(.$sexo, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,
levels = c('Hombre', 'Mujer')),
educacion = car::recode(.$educacion, recodes = c("1 = 'Nunca estudio';
2 = 'Educacion preescolar';
3 = 'Educacion primaria (nivel 1)';
4 = 'Educacion primaria (nivel 2)';
5 = 'Educacion secundaria';
6 = 'Educacion tecnica (superior no universitaria)';
7 = 'Educacion universitaria';
8 = 'Postitulos y maestria';
9 = 'Doctorado'"),
as.factor = T,
levels = c('Nunca estudio',
'Educacion preescolar',
'Educacion primaria (nivel 1)',
'Educacion primaria (nivel 2)',
'Educacion secundaria',
'Educacion tecnica (superior no universitaria)',
'Educacion universitaria',
'Postitulos y maestria',
'Doctorado'))) %>%
mutate_at(vars("cond_vacaciones", "cond_enfermedad", "cond_maternidad", "cond_guarderia", "cotiza_prev", "cotiza_salud", "cotiza_seguro"), ~(car::recode(., recodes = c("1 = 'Si'; 2 = 'No'"), as.factor = T))) %>%
mutate(ingresos = factor(.$ingresos, levels = c("$0 a $291.974",
"$291.975 a $380.500",
"$380.501 a $500.000",
"$500.001 a $779.787",
"$779.788 o más")),
horas = factor(.$horas, levels = c("Igual o menor a 30 horas semanales",
"Entre 31 y 45 horas semanales",
"Mayor a 45 horas semanales"))) %>%
mutate_at(vars("contrato", "contrato_duracion", "contrato_sub", "cotiza_prev", "cotiza_salud", "cotiza_seguro", "lugar_trab", "cond_vacaciones", "cond_enfermedad", "cond_maternidad", "cond_guarderia"), ~(car::recode(., recodes = "c(77, 88, 99) = NA"))) %>%
mutate_at(vars(c("horas", "educacion")), ~(car::recode(., recodes = "c(888, 999) = NA")))
sum(is.na(data_proc))
dim(data_proc)
data_proc <-na.omit(data_proc)
dim(data_proc)
#(In)estabilidad
data_proc$contrato = set_label(data_proc$contrato, "Existencia de contrato")
data_proc$contrato_duracion = set_label(data_proc$contrato_duracion, "Duracion de contrato")
data_proc$contrato_sub = set_label(data_proc$contrato_sub, "Acuerdo de trabajo")
#(In)seguridad
data_proc$cotiza_prev = set_label(data_proc$cotiza_prev, "Cotizacion en prevision")
data_proc$cotiza_salud = set_label(data_proc$cotiza_salud, "Cotizacion en salud")
data_proc$cotiza_seguro = set_label(data_proc$cotiza_seguro, "Cotizacion en seguro de desempleo")
#(In)suficiencia
data_proc$ingresos = set_label(data_proc$ingresos, "Quintiles de ingreso")
#Condiciones de trabajo
data_proc$lugar_trab = set_label(data_proc$lugar_trab, "Lugar de trabajo")
data_proc$cond_vacaciones = set_label(data_proc$cond_vacaciones, "Derecho a vacaciones")
data_proc$cond_maternidad = set_label(data_proc$cond_maternidad, "Derecho a dias pagos por pa/maternidad")
data_proc$cond_guarderia = set_label(data_proc$cond_guarderia, "Derecho a guarderia infantil")
#Cronopiedad
data_proc$horas <- set_label(data_proc$horas, 'Total horas semanales habituales en actividad principal')
#Diseño muestral
data_proc$exp <- set_label(data_proc$exp, 'Ponderador')
#Diseño muestral
data_proc$exp <- set_label(data_proc$exp, 'Ponderador')
data_proc$id <- set_label(data_proc$id, 'Identificador')
#Demográficas
data_proc$sexo <- set_label(data_proc$sexo, 'Sexo')
data_proc$edad <- set_label(data_proc$edad, 'Edad')
data_proc$educacion <- set_label(data_proc$educacion, 'Educacion')
View(data_proc)
data_proc$cond_enfermedad = set_label(data_proc$cond_enfermedad, "Derecho a dias pagos por enfermedad")
inestabilidad <- data_proc %>%
select(contrato, contrato_duracion, contrato_sub)
sjPlot::view_df(inestabilidad)
?view_df
inestabilidad <- data_proc %>%
select(3:5)
sjPlot::view_df(inestabilidad)
inseguridad <- data_proc %>%
select(6:8)
sjPlot::view_df(inseguridad)
inseguridad <- data_proc %>%
select(9)
sjPlot::view_df(inseguridad)
insuficiencia <- data_proc %>%
select(9)
sjPlot::view_df(inseguridad)
sjPlot::view_df(insuficiencia)
condiciones <- data_proc %>%
select(10:14)
sjPlot::view_df(condiciones)
data_proc <- data_proc %>%
mutate_at(vars(-c(exp, id, edad)), ~(as.numeric(.))) %>%
mutate(ingresos = case_when(ingresos <= 291974 ~ "$0 a $291.974",
ingresos > 291974 & ingresos <= 380500 ~ "$291.975 a $380.500",
ingresos > 380500 & ingresos <= 500000 ~ "$380.501 a $500.000",
ingresos > 500000 & ingresos <= 779787 ~ "$500.001 a $779.787",
ingresos > 779787 ~ "$779.788 o mas",
TRUE ~ NA_character_),
horas = case_when(horas <= 30 ~ "Igual o menor a 30 horas semanales",
horas > 30 & horas <= 45 ~ "Entre 31 y 45 horas semanales",
horas > 45 ~ "Mayor a 45 horas semanales",
TRUE ~ NA_character_),
contrato = car::recode(.$contrato, recodes = c("1 = 'Si'; 2 = 'No'"),
as.factor = T, levels = c('Si', 'No')),
contrato_duracion = car::recode(.$contrato_duracion, recodes = c("1 = 'Definido'; 2 = 'Indefinido'"),
as.factor = T, levels = c('Definido', 'Indefinido')),
contrato_sub = car::recode(.$contrato_sub, recodes = c("1 = 'Directamente con la empresa en donde trabaja';
2 = 'Con un contratista o subcontratista de bienes y servicios';
3 = 'Con una empresa de servicios temporales o suministradora de trabajadores';
4 = 'Con un enganchador (contratista agrícola)'"),
as.factor = T, levels = c('Directamente con la empresa en donde trabaja',
'Con un contratista o subcontratista de bienes y servicios',
'Con una empresa de servicios temporales o suministradora de trabajadores',
'Con un enganchador (contratista agrícola)')),
lugar_trab = car::recode(.$lugar_trab, recodes = c("1 = 'En instalaciones u oficina del cliente o empleador';
2 = 'En la casa del empleador o cliente';
3 = 'En instalaciones u oficinas propias o arrendadas';
4 = 'En la oficina, local, taller o fabrica, anexo a su hogar (en el mismo predio)';
5 = 'En su propio hogar';
6 = 'En la calle o via publica';
7 = 'En obras de construccion, mineras o similares';
8 = 'En un predio agricola o espacio maritimo o aereo';
9 = 'En otros lugares'"),
as.factor = T, levels = c('En instalaciones u oficina del cliente o empleador',
'En la casa del empleador o cliente',
'En instalaciones u oficinas propias o arrendadas',
'En la oficina, local, taller o fabrica, anexo a su hogar (en el mismo predio)',
'En su propio hogar',
'En la calle o via publica',
'En obras de construccion, mineras o similares',
'En un predio agricola o espacio maritimo o aereo',
'En otros lugares')),
sexo = car::recode(.$sexo, recodes = c("1 = 'Hombre'; 2 = 'Mujer'"), as.factor = T,
levels = c('Hombre', 'Mujer')),
educacion = car::recode(.$educacion, recodes = c("1 = 'Nunca estudio';
2 = 'Educacion preescolar';
3 = 'Educacion primaria (nivel 1)';
4 = 'Educacion primaria (nivel 2)';
5 = 'Educacion secundaria';
6 = 'Educacion tecnica (superior no universitaria)';
7 = 'Educacion universitaria';
8 = 'Postitulos y maestria';
9 = 'Doctorado'"),
as.factor = T,
levels = c('Nunca estudio',
'Educacion preescolar',
'Educacion primaria (nivel 1)',
'Educacion primaria (nivel 2)',
'Educacion secundaria',
'Educacion tecnica (superior no universitaria)',
'Educacion universitaria',
'Postitulos y maestria',
'Doctorado'))) %>%
mutate_at(vars("cond_vacaciones", "cond_enfermedad", "cond_maternidad", "cond_guarderia", "cotiza_prev", "cotiza_salud", "cotiza_seguro"), ~(car::recode(., recodes = c("1 = 'Si'; 2 = 'No'"), as.factor = T))) %>%
mutate(ingresos = factor(.$ingresos, levels = c("$0 a $291.974",
"$291.975 a $380.500",
"$380.501 a $500.000",
"$500.001 a $779.787",
"$779.788 o más")),
horas = factor(.$horas, levels = c("Igual o menor a 30 horas semanales",
"Entre 31 y 45 horas semanales",
"Mayor a 45 horas semanales"))) %>%
mutate_at(vars("contrato", "contrato_duracion", "contrato_sub", "cotiza_prev", "cotiza_salud", "cotiza_seguro", "lugar_trab", "cond_vacaciones", "cond_enfermedad", "cond_maternidad", "cond_guarderia"), ~(car::recode(., recodes = "c(77, 88, 99) = NA"))) %>%
mutate_at(vars(c("horas", "educacion")), ~(car::recode(., recodes = "c(888, 999) = NA")))
#(In)estabilidad
data_proc$contrato = set_label(data_proc$contrato, "Existencia de contrato")
data_proc$contrato_sub = set_label(data_proc$contrato_sub, "Acuerdo de trabajo")
data_proc$cotiza_salud = set_label(data_proc$cotiza_salud, "Cotizacion en salud")
#(In)suficiencia
data_proc$ingresos = set_label(data_proc$ingresos, "Quintiles de ingreso")
#Condiciones de trabajo
data_proc$lugar_trab = set_label(data_proc$lugar_trab, "Lugar de trabajo")
data_proc$cond_vacaciones = set_label(data_proc$cond_vacaciones, "Derecho a vacaciones")
data_proc$cond_guarderia = set_label(data_proc$cond_guarderia, "Derecho a guarderia infantil")
#Diseño muestral
data_proc$exp <- set_label(data_proc$exp, 'Ponderador')
data_proc$edad <- set_label(data_proc$edad, 'Edad')
data_proc$educacion <- set_label(data_proc$educacion, 'Educacion')
data_proc$cond_maternidad = set_label(data_proc$cond_maternidad, "Derecho a dias pagos por pa/maternidad")
data_proc$cond_enfermedad = set_label(data_proc$cond_enfermedad, "Derecho a dias pagos por enfermedad")
#(In)suficiencia
data_proc$ingresos = set_label(data_proc$ingresos, "Quintiles de ingreso")
#(In)seguridad
data_proc$cotiza_prev = set_label(data_proc$cotiza_prev, "Cotizacion en prevision")
data_proc$cotiza_salud = set_label(data_proc$cotiza_salud, "Cotizacion en salud")
data_proc$cotiza_seguro = set_label(data_proc$cotiza_seguro, "Cotizacion en seguro de desempleo")
#(In)estabilidad
data_proc$contrato = set_label(data_proc$contrato, "Existencia de contrato")
data_proc$contrato_duracion = set_label(data_proc$contrato_duracion, "Duracion de contrato")
data_proc$contrato_sub = set_label(data_proc$contrato_sub, "Acuerdo de trabajo")
#Condiciones de trabajo
data_proc$lugar_trab = set_label(data_proc$lugar_trab, "Lugar de trabajo")
data_proc$cond_vacaciones = set_label(data_proc$cond_vacaciones, "Derecho a vacaciones")
data_proc$cond_maternidad = set_label(data_proc$cond_maternidad, "Derecho a dias pagos por pa/maternidad")
data_proc$cond_guarderia = set_label(data_proc$cond_guarderia, "Derecho a guarderia infantil")
#Cronopiedad
data_proc$horas <- set_label(data_proc$horas, 'Total horas semanales habituales en actividad principal')
#Diseño muestral
data_proc$exp <- set_label(data_proc$exp, 'Ponderador')
#Socio-demográficas
data_proc$sexo <- set_label(data_proc$sexo, 'Sexo')
data_proc$educacion <- set_label(data_proc$educacion, 'Educacion')
condiciones <- data_proc %>%
select(10:14)
sjPlot::view_df(condiciones)
cronopiedad <- data_proc %>%
select(15)
sjPlot::view_df(cronopiedad)
frq(data_proc$horas)
demograficas <- data_proc %>%
select(16:18)
sjPlot::view_df(demograficas)
rm(condiciones, cronopiedad, demograficas, inestabilidad, inseguridad, insuficiencia)
saveRDS(data_proc,file = "input/data/data_proc.rds")
saveRDS(data_proc, "input/data/data_proc.rds")
?saveRDS
saveRDS(data_proc, file = "../input/data/data_proc.rds")
saveRDS(data_proc, file = "../input/data/data_proc.rds")
